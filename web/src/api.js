const BASE = import.meta.env.VITE_API_BASE || ''; export async function ingestUrl(url){ const resp = await fetch(BASE+'/api/ingest',{ method:'POST', headers:{'Content-Type':'application/json'}, body:JSON.stringify({url})}); if(!resp.ok){ const err = await resp.json().catch(()=>({})); throw new Error(err.error||'Error al ingerir'); } return resp.json(); } export async function searchItems(q){ const resp = await fetch(BASE+'/api/items?q='+encodeURIComponent(q||'')); if(!resp.ok) throw new Error('Error al buscar'); return resp.json(); } export async function getItem(id){ const resp = await fetch(BASE+'/api/items/'+id); if(!resp.ok) throw new Error('No encontrado'); return resp.json(); }